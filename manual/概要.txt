■概要
クライアントとサーバ間の通信は、UDPにJSONを乗せて行う。

■ログイン
クライアントは、サーバにLOGINを送信する。サーバは、LOGINを受信すると、定員(最大2)を確認してログイン可能ならLOGIN_OKを送り返す。同時にクライアンと毎に異なる認証用のトークンを生成して返す。クライアンは、これ以降は受け取ったトークンをメッセージに付与して通信を行う。

■ゲーム開始
クライアントが定員に達した場合、サーバはクライアントに対してSTARTを送信する。

■更新通知
ゲームの状態が更新されるたびにサーバはクライアントにUPDATEを通知する。

■操作
クライアントは、サーバに対して、現在のぷよの落下位置と方向を指定する。
サーバは、受信したACTIONが有効ならACTION_OKを、無効ならACTION_NGを返す。

■ゲームの修了
どちらかのクライアントのぷよが天井まで積み上がった場合、サーバはクライアントにENDを送信する。


